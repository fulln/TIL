#DDD #极客时间 

## 课程内容

###  什么是值对象

DDD 把领域对象分成了两种：一种是实体，另一种是值对象,值对象则往往是用来描述实体的属性“值”的。DDD 强调实体和值对象的区别，可以让领域建模更加准确和深入。

1. 对象状态就是一个对象
2. 时间段(Period)是一个对象

>如果表面上看起来有两个对象，但实际上指的是同一个东西，就说这两者具有同一性。判断同一性的问题，就是如何确定“一个对象就是这个对象自身”的问题。

实体是靠独立于其他属性的标识来确定“同一性”的。
值对象的所有属性加在一起就是自身的标识，所以就没有独立于其他属性的标识。

#### 实现值对象的不变性
只需要把这些对象的属性值，作为构造器参数传入来创建对象，而不提供任何方法来改变对象就可以了。

### 多种多样的值对象

- 原子值对象
	- 所谓原子值对象，是在概念上不能再拆分的值对象。比如说，整数、布尔值，日期、颜色以及状态等等，一般都建模成值对象。他们只有一个属性，不能再分了。
- 复合值对象
	- 复合值对象是其他对象组合起来的值对象。
- 快照
	- 每次修改，都把修改前的数据存一份到历史表。这些信息，就是快照

**值对象还可以分成独立的和依附于实体的**

- 独立的值对象
	- 它们可以用来描述任何实体的属性，所以可以不依附于任何实体而单独存在
- 依附于实体的值对象
	- 依附于实体,脱离了实体就没有存在的意义

**值对象也可以分成可数的和连续的**

- 可数值对象
	- 可数值对象是离散的，可以一个一个列出来。比如说整数和日期、员工状态都是可数的
- 连续值对象
	- 像颜色这样的值对象，在自然界里本来是连续的，但由于技术的限制，在计算机里一般实现为可数的

- 预定义值对象
	- 所谓预定义的，就是需要以某种方式在系统里，把这种对象的值定义出来，常见的方式有程序里的枚举类型、数据库定义表，配置文件等
- 非预定义值对象
	- 非预定义的值对象就不必预先定义在系统里了，比如说“整数”，由于是无限的，根本就没有办法预定义


## 课程地址
[《手把手教你落地 DDD》学习笔记Day7](https://time.geekbang.org/column/article/623106)