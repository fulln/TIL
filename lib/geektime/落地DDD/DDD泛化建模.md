#java #设计思想 #DDD 

##  怎样权衡是否采用泛化

泛化虽然很好用，但是是一种比较容易滥用的技能，是否需要泛化是一种权衡问题

### 需要泛化的2个方向

1. 识别子类并归纳出父类 --> 归纳法
2. 识别父类，发现不同的差异，并形成子类 --> 演绎法

### 表示分类的2种方法

泛化可以表示分类，但分类不一定要用泛化。事实上，领域模型里除了用泛化表示分类，还有一种做法就是通过不同的特性值来表示。

1. 特性（property）。
2. 泛化

#### 共性与特性

不同的类既有共性又有个性的时候，才有所谓分类，也才可以进行泛化。

### 权衡的视角

#### 业务视角
引入泛化后，有没有在模型里增加新的知识，有没有使模型更加简洁，更容易理解？


#### 技术视角
是否能自然、直接地映射到设计模型和代码


### 是否需要泛化


- 第一，假如只有特性值不同，那么用特性值为对象分类就可以了，不必使用泛化。
- 第二，如果特性种类不同，那么很可能要采用泛化。
- 第三，如果在业务规则、操作接口或操作实现方面有共性和个性，首先考虑在实现上是否可以使用策略模式，如果可以，那么在领域模型中就不必泛化，否则考虑泛化。如果你还不太了解策略模式，可以参考《领域驱动设计》原书第 12.1 节，或其他关于设计模式的书


泛化是类和类之间的关系。我们的思路是首先要不要进行“分类”，如果要分类的话，再考虑是不是要泛化。

### 领域模型的几种关系

第一，是实例和实例之间的关系。也可以说是对象和对象之间的关系。当我们谈关联和聚合的时候，说的就是实例之间的关系。比如说组织和员工之间具有一对多关联，实际上是说一个组织实例可以有多个员工实例。

第二，是类和类之间的关系。泛化其实就是类和类之间的关系，而不是实例和实例之间的关系。当我们说圆形是图形的子类的时候，实际上是说，圆形这一类事物，是图形这一类事物的子集。

第三，是类和实例之间的关系。比如圆形这个类和某个具体的圆之间的关系。或者前面说的普通工时项和学习时间之间的关系。上面三条看起来可能很简单，但我们常常会混淆。如果能把它们搞得清清楚楚，那说明你已经具有一定的建模能力了。

## 课程地址

此文章为2月day12 学习笔记，内容来源于极客时间《[25｜泛化的实现（上）：怎样为泛化设计数据库？ (geekbang.org)](https://time.geekbang.org/column/article/627635)》