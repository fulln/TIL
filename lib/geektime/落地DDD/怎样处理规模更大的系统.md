
## 迭代

主要架构关系图

![[Pasted image 20230224232457.png]]

### 聚合
1. 聚合（aggregate）是一组有整体部分关系，并且要满足一定不变规则的领域对象，其中只有一个实体表示整体，这个实体叫做聚合根。

2. 聚合的整体与部分是强关联的

3. 不变规则，指的是每时每刻都不能打破的规则。如果可以暂时打破，后面再补救，就不算不变规则了。对于聚合整体上的不变规则，需要在聚合根或者和聚合配合的领域服务中维护。

### 值对象
由于值对象是纯粹的概念产物，因此并不存在从创建到消亡的生命周期，在概念上也是不可变的。而另一方面，实体则是现实中的概念，存在从产生到消亡的生命周期，理论上是可变的。

只要标识一样，哪怕属性变了，这个实体还是这个实体。而值对象是不变的，所以不需要独立于其他属性的标识，而是以所有的属性值作为一个整体来判断同一性。

值对象也是要封装领域逻辑的，因此不是 DTO（数据传输对象）。

### 限定

限定（qualification）可以起到简化关联的多重性，丰富模型语义的作用。如果两个实体之间本来是一对多的关系，而某个属性固定后，就可以变成一对一的关系，那么就可以使用限定。

### 泛化

当我们发现一些对象既有共性又有个性的时候，就可以考虑使用泛化。另一方面，泛化又有可能使模型复杂化，因此，是否使用泛化要经过权衡，可以从简洁性、可理解性、可维护性等方面，想一想使用泛化是否合适。

通常用类的继承或接口的实现来表示泛化。由仓库进行数据库数据到内存数据的转换。仓库屏蔽了不同数据库设计策略的差别。

### 限界上下文

限界上下文就是一种通过划分模型边界，分而治之的手段。一个上下文，大体上可以理解为一个子系统。

限界上下文是化解大型系统的利器，也是架构设计的基础。比如说微服务就可以基于限界上下文来设计

### CQRS

读写剥离

### 分析模式初探与挑战

1. 项目范围扩大
2. 需求复杂

## 地址

此文章为2月day18 学习笔记，内容来源于极客时间《[27｜迭代三概述：怎样处理规模更大的系统？ (geekbang.org)](https://time.geekbang.org/column/article/629262)》