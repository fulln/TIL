#java #DDD #设计思想 

## 泛化的实现（下）：怎样为泛化编写代码？

1. 泛化的编码主要解决的问题就是，怎么把内存中的对象和数据库表里的数据进行相互转换。

2. 同一个泛化结构，在内存中的对象布局是一样的，但根据不同的数据库设计策略，数据库里的表结构却是不一样的

一是领域对象的代码采用类的继承或接口的实现；
二是用仓库实现内存中的对象和数据库表中的数据之间的双向转换

### 领域模型编码

根据 DDD 的思路，我们在领域建模的时候，已经有意识地考虑了领域模型和程序实现一致性，所以，对于泛化，我们直接用继承来实现就可以了。

对于对象的部分,可以抽象成接口形式,让具体实例去实现接口

### 查询实现

1. 实现对应查询DTO
2. 将不同的查询DTO聚合在一起,返回对应列表
3. 根据不同的查询type查询不同的库

用仓库层实现内存对象和数据库表对象的相互转换,如果数据库设计的策略改了，比如由“每个子类一个表”改成了“每个类一个表”，那么，理论上只需要修改仓库就可以了

## 地址


此文章为2月day13 学习笔记，内容来源于极客时间《[26｜泛化的实现（下）：怎样为泛化编写代码？](https://time.geekbang.org/column/article/628171)》




