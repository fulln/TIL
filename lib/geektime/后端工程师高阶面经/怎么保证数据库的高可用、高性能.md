---
dg-publish: true
title: 怎么保证数据库的高可用、高性能
createTime: 2023-08-02 23:31  
---
##  怎么保证数据库的高可用、高性能

### 查询缓存

查询缓存不一定带来查询性能提升。如果你的查询每一次对应的 SQL 都不一样，那么查询缓存反而会降低查询性能。

提高数据库可用性、性能作为你提高整个系统的可用性、性能的一环。
### 整体方案

#### 参数调优

![](https://static001.geekbang.org/resource/image/cf/e3/cfbb238yy09e78e4781ca9301eabaee3.png?wh=1920x743)

innodb 缓冲池的大小，用于缓存表和索引，也包括插入数据缓冲，增加这个值可以减少磁盘 IO。

**innodb_buffer_pool_size**
实践中应该尽可能调大这个参数。如果数据库所在的机器内存比较大，那么可以调整到整个内存的 70% 或者 75%。但是也要小心这个参数过大，物理内存不足，容易触发操作系统 swap。

**innodb_buffer_pool_instances**
1. 要是整个 MySQL InnoDB 引擎内部只有一个缓冲池，所有查询都访问它，那么并发竞争会十分厉害。
2. 可以考虑启动多个缓冲池实例，具体多少个就由 innodb_buffer_pool_instances 这个参数指定。显然这个数字越大，并发竞争就越小。



# 地址

此文章为8月day2 学习笔记，内容来源于极客时间《https://time.geekbang.org/column/article/683232》