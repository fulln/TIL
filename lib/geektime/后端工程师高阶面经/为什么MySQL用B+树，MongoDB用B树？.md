---
dg-publish: true
title: 为什么MySQL用B+树，MongoDB用B树？
createTime: 2023-07-09 22:55  
---

## 索引
索引是用来加速查找的数据结构。绝大多数跟存储、查找有关的中间件都有索引功能，但是它们的原理不尽相同。就比如 MySQL 用了 B+ 树来作为数据库索引的底层数据结构，而 MongoDB 就用了 B 树。

### B+树

- 叶子存放了数据，而非叶子节点只是存放了关键字。
- 叶子节点被链表串联起来了。

#### B+ 树用于数据库索引有 3 大优势
1. B+ 树的高度和二叉树之类的比起来更低，树的高度代表了查询的耗时，所以查询性能更好。
2. B+ 树的叶子节点都被串联起来了，适合范围查询。
3. B+ 树的非叶子节点没有存放数据，所以适合放入内存中。

### 索引分类

- 据叶子节点是否存储数据来划分，可以分成聚簇索引和非聚簇索引。
- 如果某个索引包含某个查询的所有列，那么这个索引就是覆盖索引。
- 如果索引的值必须是唯一的，不能重复，那么这个索引就是唯一索引。
- 如果索引的某个列，只包含该列值的前一部分，那么这个索引就是前缀索引。比如说在一个类型是 varchar(128) 的列上，选择前 64 个字符作为索引。
- 如果某个索引由多个列组成，那么这个索引就是组合索引，也叫做联合索引。
- 全文索引是指用于支持文本模糊查询的索引。
- 哈希索引是指使用哈希算法的索引，但是 MySQL 的 InnoDB 引擎并不支持这种索引。

### 索引的代价

1. 索引本身需要存储起来，消耗磁盘空间。
2. 在运行的时候，索引会被加载到内存里面，消耗内存空间。
3. 在增删改的时候，数据库还需要同步维护索引，引入额外的消耗。

# 地址

此文章为7月day9 学习笔记，内容来源于极客时间《https://time.geekbang.org/column/article/672553》