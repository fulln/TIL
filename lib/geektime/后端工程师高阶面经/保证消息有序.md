---
dg-publish: true
title: 保证消息有序
createTime: 2023-08-12 23:54  
---

# 保证消息有序

### 消息在分区上的组织方式

每个 topic 都可以被划分为一个或多个分区，每个分区都是一个有序、不可变的消息日志。

Kafka 使用 WAL （write-ahead-log）日志来存储消息。每个分区都有一个对应的日志文件，新的消息会被追加到文件的末尾，而已经加入日志里的消息，就不会再被修改了。

而 Kafka 本身暴露了对应的接口，也就是说你可以显式地指定消息要发送到哪个分区，也可以显式地指定消费哪个分区的数据。

### 什么是有序消息？

有序消息是指消费者消费某个 topic 消息的顺序，和生产者生产消息的顺序一模一样，它也叫做顺序消息。




# 地址 

此文章为8月day12 学习笔记，内容来源于极客时间《https://time.geekbang.org/column/article/685914》