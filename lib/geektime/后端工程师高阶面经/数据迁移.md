---
dg-publish: true
title: 数据迁移
createTime: 2023-07-19 23:41  
---


##  数据迁移

### 数据备份工具

![](https://static001.geekbang.org/resource/image/e3/d0/e341443c3cc11c3b04d17a28134cbbd0.png?wh=1920x712)


### innodb_autoinc_lock_mode 
是 InnoDB 引擎里面控制自增主键生成策略的参数，它有三个取值。

- 0：使用表自增锁，但是锁在 INSERT 语句结束之后就释放了。
- 1：使用表自增锁，如果是普通的 INSERT INTO VALUE 或者 INSERT INTO VALUES 语句，申请了主键就释放锁，而不是整个 INSERT 语句执行完毕才释放。如果是 INSERT SELECT 等语句，因为无法确定究竟要插入多少行，所以都是整个 INSERT 语句执行完毕才释放。
- 2：使用表自增锁，所有的语句都是申请了主键就立刻释放。

### 数据迁移解决方案

![](https://static001.geekbang.org/resource/image/2b/20/2b23d430a4284b860be2876f11174c20.png?wh=1920x1222)



# 地址 

此文章为7月day19 学习笔记，内容来源于极客时间《https://time.geekbang.org/column/article/676586》