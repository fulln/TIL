---
dg-publish: true
title: 云时代的JVM原理
createTime: 2023-08-24 23:13  
---
# 01｜重识JVM：JVM的起源、特性与系统构成

![](https://static001.geekbang.org/resource/image/d2/f4/d280d8637642253797815bfb6738d8f4.jpg?wh=7069x5669)

### 类加载子系统

### 字节码执行引擎PP
JVM 同时支持解释执行和编译执行两种方式，JVM 的优化重点放到了这个部分，它会自动监视代码的执行情况，对于一般的代码采用解释执行的方式，而对于经常调用的方法启动一个后台线程，把它们编译成本地代码并进行优化，这也是 JVM 能实现高性能一个非常重要的因素。
### 运行时数据区

# 02｜挑战与趋势：云原生时代JVM的演进之路

### 云原生时代的开发趋势
云原生时代的开发趋势主要集中在无服务器（Serverless）、容器化、Kubernetes、分布式等几个方面
### 容器化
区别于 JVM 实现的语言层虚拟化，容器采用的是操作系统层虚拟化解决方案，可以为每个容器分配资源，并允许在容器内运行各种应用程序和进程，而不仅仅是 Java 应用程序。这给了容器许多优势，比如环境一致性，无论容器在什么地方运行，它的内部环境都是一致的，容器与容器之间互相不影响。此外容器还有资源隔离、开发效率和运维效率的提高、可扩展性和可移植性等特性。
### 分布式、弹性伸缩、微服务架构
## 云时代 JVM 的挑战

### 容器亲和性
在 JDK 8u131 版本之前，JVM 不具备容器识别能力。这对于已经上云，但还在使用 JDK 8 的 Java 应用来说，存在致命的风险。

在 JDK 11、JDK 17 中，JVM 增加了对容器环境的识别能力。JVM 会读取来自操作系统（Docker）和容器管理系统（Kubernetes）提供的信息，来了解它所在的容器的资源限制。J
### AOT 原生镜像编译
JVM 支持 AOT（Ahead-Of-Time）编译技术，并在 JDK 11、17 版本中持续增强。AOT 指的是在 JVM 运行之前把代码编译成本地机器码的技术。通过提前将 Java 应用程序编译为即时启动的本地二进制文件，JVM 在无需预热的情况下就可以提供峰值性能。

### 函数式支持增强
通过逃逸分析、栈上分配等操作持续提升栈的利用效率。基于函数式编程风格更加强调不可变性和无副作用的特性，产生的垃圾更少。此外，JVM 还引入了 Epsilon 垃圾收集器，这是一个不执行任何垃圾收集的收集器。当应用程序不需要自动内存管理或者为了测试和性能调整而需要关闭垃圾收集时使用。

### JVM 家族

## JVM 的发展方向主要包括 3 个方面。
1. 首先是性能优化，通过提高性能和资源利用率来适应云原生时代的需求。其中最主要的技术是 AOT 编译器和 JIT 编译器的结合，以及 JVM 的内存管理和垃圾回收机制的优化
2. 其次是对容器化的支持，通过支持容器化和新的微服务架构以适应云原生时代的需求。其中最主要的技术是 JVM 的镜像化和容器化以及对容器化环境的适配。
3. 最后是安全性和可靠性的提升，通过持续提高安全性和可靠性来适应新时代的要求。
# 地址

此文章为8月day24 学习笔记，内容来源于极客时间《https://time.geekbang.org/column/article/688563》