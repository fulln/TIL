---
dg-publish: true
title: 系统稳定性之我见-Qcon大会总结
createTime: 2023-07-09 19:47  
---

## 如何设计一个高可用的系统
我们用标题来谈一谈主流市面上常见的常见系统稳定性解决方案

首先是**流量入口端**，看下虎牙是怎么处理流量调度的

### 虎牙多云调度

![[Pasted image 20230709214925.png]]

#### 打造流量调度平台

1. DNS
	1. 自建+云解析同时使用
	2. IDC作为DNS后台，写入master，同步到各个云服务
	3. 用云上弹性资源部署slave节点
		1. 用以做到扩容缩容
		2. 解析服务异常自动切换
	4. 统一域名管理入口
	![[Pasted image 20230709224049.png]]		
	1. nameServer打通微服务,k8s,dns信息,提供统一dns解析能力
		- 配置存放nacos，同步对应service和ip等信息到nameServer
		- dns管理后台同步对应dns信息到nameServer
	2. 基于标签和cmdb，智能解析
		- cmdb库拉去对应信息打标
		- nameServer根据请求方标签和匹配策列返回匹配的解析记录
3. 7层负载均衡
		1. 转发流量快速屏蔽
		2. 证书安全
		3. 域名和路径的监控指标
		4. 扩展机制