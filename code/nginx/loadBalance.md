#nginx 

## Nginx,HAproxy,F5差异与联系

**F5**:F5负载均衡器是应用交付网络的全球领导者F5 Networks公司提供的一个负载均衡器专用设备

**Nginx** :高性能的 HTTP和反向代理服务器，同时支持作为IMAP/POP3/SMTP代理服务器,采用的是反向代理技术，代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个服务器,具有高效的性能、良好的稳定性、丰富的功能集、示例配置文件和低系统资源的消耗，被广泛应用

**HaProxy**: 单纯的loadbalancer,转发性能稍高

### nginx的优点

1. 工作在网络7层之上，可针对http应用做一些分流的策略，如针对域名、目录结构，它的正规规则比HAProxy更为强大和灵活，所以，目前为止广泛流行。
2. Nginx对网络稳定性的依赖非常小
3. 不仅仅是优秀的负载均衡器/反向代理软件，同时也是强大的Web应用服务器。LNMP也是近些年非常流行的Web架构，在高流量环境中稳定性也很好
4. 可作为中层反向代理使用。
5. Nginx社区活跃，第三方模块非常多，相关的资料在网上比比皆是。

### nginx的缺点

1. 对后端服务器的健康检查，只支持通过端口检测，不支持url来检测

### HAProxy优点

1. HAProxy是支持虚拟主机的，可以工作在4、7层(支持多网段)
2. 单纯从效率上来讲HAProxy会比Nginx有更出色的负载均衡速度，在并发处理上也是优于Nginx。
3. Haproxy是多线程,单进程实现超高的性能

### HAProxy缺点

1.  重载配置的功能需要重启进程，虽然也是soft restart，但没有Nginx的reaload更为平滑和友好。
2. 多进程模式支持不够好

### F5优点

1. 能够直接通过智能交换机实现,处理能力更强，而且与系统无关，只是从网络层来判断，负载性能强，适用于一大堆设备、大访问量、简单应用

### F5缺点

1. 成本高，配置冗余

